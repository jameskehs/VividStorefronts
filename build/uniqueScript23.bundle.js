"use strict";(self.webpackChunkvivid_storefronts=self.webpackChunkvivid_storefronts||[]).push([[9046],{1473:(e,t,o)=>{function n(){const e=document.getElementById("subPrice"),t=document.getElementById("taxPrice"),o=document.getElementById("grandPrice"),n=localStorage.getItem("discountedSubtotal"),a=localStorage.getItem("discountedTax"),d=localStorage.getItem("discountedTotal"),i=localStorage.getItem("promoDiscount");if(e&&t&&o&&(e.dataset.original||(e.dataset.original=e.textContent?.replace("$","").trim()||""),t.dataset.original||(t.dataset.original=t.textContent?.replace("$","").trim()||""),o.dataset.original||(o.dataset.original=o.textContent?.replace("$","").trim()||""),n&&a&&d&&i)){e.textContent=parseFloat(n).toFixed(2),t.textContent=parseFloat(a).toFixed(2),o.textContent=parseFloat(d).toFixed(2);const r=document.querySelector("#lineItems table");if(r&&!document.getElementById("discountRow")){const e=r.insertRow(3);e.id="discountRow";e.insertCell(0).textContent="Promo Discount:";const t=e.insertCell(1);t.innerHTML=`$<span id="promoDiscount">-${parseFloat(i).toFixed(2)}</span>`,t.style.textAlign="right"}}}o.d(t,{U:()=>n})},2995:(e,t,o)=>{o.r(t),o.d(t,{main:()=>c});var n=o(2507),a=o(7999);var d=o(1473),i=o(5817);const r="vivid-chat-style",s="vivid-chat-widget";function l(e={}){e.apiBase,e.business??function(){throw new Error("Function not implemented.")}();const t=e.siteName??(document.title||"Vivid Store");e.debug;!function(){if(document.getElementById(r))return;const e=`\n#${s} { position: fixed; z-index: 99999; right: 20px; bottom: 20px; font-family: Verdana, Arial, sans-serif; }\n#${s} .bubble { width: 56px; height: 56px; border-radius: 999px; box-shadow: 0 8px 24px rgba(0,0,0,.18); display:flex; align-items:center; justify-content:center; cursor:pointer; background: #111; color:#fff; }\n#${s} .panel { position: absolute; right: 0; bottom: 72px; width: 340px; max-height: 70vh; background: #fff; border-radius: 16px; box-shadow: 0 16px 40px rgba(0,0,0,.25); display:none; flex-direction:column; overflow:hidden; border:1px solid #e5e7eb; }\n#${s} .panel.open { display:flex; }\n#${s} header { padding: 10px 12px; font-weight: bold; border-bottom: 1px solid #f0f0f0; display:flex; align-items:center; justify-content:space-between; }\n#${s} header .brand { font-size: 13px; opacity:.85 }\n#${s} header button { all: unset; cursor:pointer; padding: 6px 8px; border-radius: 8px; }\n#${s} .log { padding: 10px 12px; display:flex; gap:8px; flex-direction:column; overflow:auto; }\n#${s} .msg { font-size: 13px; line-height: 1.35; padding: 8px 10px; border-radius: 10px; max-width: 85%; white-space: pre-wrap; }\n#${s} .msg.user { align-self: flex-end; background:#111; color:#fff; border-top-right-radius: 4px; }\n#${s} .msg.assistant { align-self: flex-start; background:#f6f6f7; color:#111; border-top-left-radius: 4px; }\n#${s} footer { border-top: 1px solid #f0f0f0; padding: 8px; display:flex; gap:6px; }\n#${s} textarea { resize:none; flex:1; min-height:40px; max-height:140px; border:1px solid #ddd; border-radius:10px; padding:8px 10px; font-size:13px; }\n#${s} .send { background:#111; color:#fff; border:none; border-radius:10px; padding: 0 12px; font-size:13px; cursor:pointer; }\n#${s} .hint { font-size: 11px; color:#6b7280; padding: 6px 12px 10px; }\n`,t=document.createElement("style");t.id=r,t.textContent=e,document.head.appendChild(t)}();document.createElement("div").id=s;const o=document.createElement("button");o.className="bubble",o.title="Chat",o.innerHTML=function(){throw new Error("Function not implemented.")}();document.createElement("div").className="panel";const n=document.createElement("header"),a=document.createElement("div");a.textContent="Vivid Assistant";const d=document.createElement("div");d.className="brand",d.textContent=t;const i=document.createElement("div"),l=document.createElement("button");l.ariaLabel="Close",l.innerHTML="âœ•",i.appendChild(l),n.appendChild(a),n.appendChild(d),n.appendChild(i);document.createElement("div").className="log";document.createElement("footer"),document.createElement("textarea")}function c(){function e(){if((a.U?.currentPage?.trim().toLowerCase()||"").includes("add to cart")||window.location.pathname.includes("/cart/3-edit.php")){const e=document.getElementById("productImage"),t=window.p?.artID;if(!e||!t)return;const o=window.location.origin,n=Date.now(),a=`${o}/catalog/gen/pdf_art_image.php?artID=${t}&nocache=${n}`;e.src.startsWith(`${o}/.cache`)&&(e.src=a,e.width=400,e.style.height="auto");const d=setInterval(()=>{e.src.startsWith(`${o}/.cache`)&&(e.src=a,e.width=400,e.style.height="auto")},300);setTimeout(()=>{clearInterval(d)},1e4)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),a.U.currentPage===n.c.CHECKOUTSHIPPING&&($("#continueTbl .smallbody").eq(1).html('<span class="red">*</span> Delivery time listed includes 1 to 2 days to process order plus shipping.\n      Please note we do not process orders on weekends or holidays.'),(0,i.V)()),a.U.currentPage===n.c.CHECKOUTCONFIRMATION&&(0,d.U)(),(a.U.currentPage===n.c.CHECKOUTPAYMENT||window.location.pathname.includes("/checkout/4-payment.php"))&&window.addEventListener("load",()=>{const e=document.getElementById("custPOBox"),t=document.getElementById("customerPO");if(!e||!t)return void console.warn("Missing #custPOBox or #customerPO");const o=e.querySelector("section");if(o){if(!document.getElementById("applyPromoCodeBtn")&&!document.getElementById("clearPromoCodeBtn")){const e=document.createElement("div");e.style.marginTop="8px",e.style.display="flex",e.style.justifyContent="center",e.style.gap="8px";const n=document.createElement("button");n.type="button",n.id="applyPromoCodeBtn",n.textContent="Apply Promo Code";const a=document.createElement("button");a.type="button",a.id="clearPromoCodeBtn",a.textContent="Clear",e.appendChild(n),e.appendChild(a),o.appendChild(e);const d={SAVE10:.1,SAVE20:.2,SAVE30:.3};n.addEventListener("click",()=>{const e=t.value.trim().toUpperCase(),o=d[e];if(!o)return void alert("Invalid promo code.");const n=document.getElementById("subPrice"),a=document.getElementById("taxPrice"),i=document.getElementById("grandPrice");if(!n||!a||!i)return;const r=parseFloat(n.dataset.original||n.textContent?.replace("$","")||"0");n.dataset.original||=r.toFixed(2);const s=+(r*(1-o)).toFixed(2),l=+(.105*s).toFixed(2),c=+(s+l).toFixed(2),p=+(r-s).toFixed(2);n.textContent=s.toFixed(2),a.textContent=l.toFixed(2),i.textContent=c.toFixed(2),localStorage.setItem("discountedSubtotal",s.toFixed(2)),localStorage.setItem("discountedTax",l.toFixed(2)),localStorage.setItem("discountedTotal",c.toFixed(2)),localStorage.setItem("promoDiscount",p.toFixed(2)),localStorage.setItem("promoCode",e);const m=document.querySelector("#lineItems table");if(m&&!document.getElementById("discountRow")){const e=m.insertRow(3);e.id="discountRow",e.insertCell(0).textContent="Promo Discount:";const t=e.insertCell(1);t.innerHTML=`$<span id="promoDiscount">-${p.toFixed(2)}</span>`,t.style.textAlign="right"}else{const e=document.getElementById("promoDiscount");e&&(e.textContent=`-${p.toFixed(2)}`)}}),a.addEventListener("click",()=>{localStorage.removeItem("discountedSubtotal"),localStorage.removeItem("discountedTax"),localStorage.removeItem("discountedTotal"),localStorage.removeItem("promoDiscount"),localStorage.removeItem("promoCode");const e=document.getElementById("discountRow");e&&e.remove();const o=document.getElementById("subPrice"),n=document.getElementById("taxPrice"),a=document.getElementById("grandPrice");o&&o.dataset.original&&(o.textContent=o.dataset.original),n&&n.dataset.original&&(n.textContent=n.dataset.original),a&&a.dataset.original&&(a.textContent=a.dataset.original),t.value=""})}}else console.warn("Could not find <section> inside #custPOBox")})}document.addEventListener("DOMContentLoaded",()=>{l({apiBase:"https://ai-chat-bot-1xm4.onrender.com/api/ai",debug:!0}),console.log("[VividChat] direct mount called")}),c(),function(){const e={HOME:"fa-home",CATALOG:"fa-book-open","MY ACCOUNT":"fa-user","SHOPPING CART":"fa-shopping-cart"},t=()=>{const o=document.querySelectorAll("#menu li");0!==o.length?o.forEach(t=>{const o=t.querySelector("a");if(o){const t=o.textContent?.trim().toUpperCase(),n=Object.keys(e).find(e=>t?.startsWith(e)),a=n?e[n]:"";if(a){const e=t?.match(/\((\d+)\)/)?.[1];o.innerHTML=`\n    <span class="icon-wrap">\n      <i class="fa ${a}"></i>\n      ${e?`<span class="badge">${e}</span>`:""}\n    </span>\n  `,o.setAttribute("title",t||"")}}}):setTimeout(t,200)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}()},5817:(e,t,o)=>{function n(){if(!document.getElementById("page-blocker-overlay")){const e=document.createElement("div");e.id="page-blocker-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.backgroundColor="rgba(0, 0, 0, 0.3)",e.style.zIndex="9998",e.style.display="none",document.body.appendChild(e)}const e=document.getElementById("page-blocker-overlay"),t=setInterval(()=>{const o=document.querySelector(".jq-toast-single");if(o&&o.textContent?.includes("The USPS database indicates your address is Residential")){e.style.display="block";const n=o.querySelector(".close-jq-toast-single");n&&n.remove(),o.innerHTML='\n        <strong class="sans red">Important Message</strong><br>\n        The USPS database indicates your address is Residential, but you have it flagged as Commercial.<br>\n        Please <a href="5-shipping.php" style="color: red; font-weight: bold; text-decoration: underline;">go back</a> and click the Verify Address button to ensure the most reliable package delivery.<br>\n        We verify all addresses with the USPS address database.\n      ',clearInterval(t)}},300)}o.d(t,{V:()=>n})}}]);