{"version":3,"file":"uniqueScript23.bundle.js","mappings":"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","sources":["webpack://vivid-storefronts/./src/shared/BlockOnResidentialToast.ts","webpack://vivid-storefronts/./src/shared/persistDiscountedTotals.ts","webpack://vivid-storefronts/./src/store_scripts/DemoSite/index.ts","webpack://vivid-storefronts/./src/shared/ApplyPromoCode.ts"],"sourcesContent":["export function monitorResidentialToastAndBlockPage() {\n    if (!document.getElementById(\"page-blocker-overlay\")) {\n        const overlay = document.createElement(\"div\");\n        overlay.id = \"page-blocker-overlay\";\n        overlay.style.position = \"fixed\";\n        overlay.style.top = \"0\";\n        overlay.style.left = \"0\";\n        overlay.style.width = \"100vw\";\n        overlay.style.height = \"100vh\";\n        overlay.style.backgroundColor = \"rgba(0, 0, 0, 0.3)\";\n        overlay.style.zIndex = \"9998\";\n        overlay.style.display = \"none\";\n        document.body.appendChild(overlay);\n    }\n    const overlay = document.getElementById(\"page-blocker-overlay\");\n    const pollInterval = setInterval(() => {\n        const toast = document.querySelector(\".jq-toast-single\");\n        if (toast &&\n            toast.textContent?.includes(\"The USPS database indicates your address is Residential\")) {\n            overlay.style.display = \"block\";\n            // Remove the close (Ã—) button\n            const closeBtn = toast.querySelector(\".close-jq-toast-single\");\n            if (closeBtn)\n                closeBtn.remove();\n            // Replace toast content with updated message and inline \"go back\" link\n            toast.innerHTML = `\n        <strong class=\"sans red\">Important Message</strong><br>\n        The USPS database indicates your address is Residential, but you have it flagged as Commercial.<br>\n        Please <a href=\"5-shipping.php\" style=\"color: red; font-weight: bold; text-decoration: underline;\">go back</a> and click the Verify Address button to ensure the most reliable package delivery.<br>\n        We verify all addresses with the USPS address database.\n      `;\n            clearInterval(pollInterval);\n        }\n    }, 300);\n}\n","export function persistDiscountedTotals() {\n    const subPrice = document.getElementById(\"subPrice\");\n    const taxPrice = document.getElementById(\"taxPrice\");\n    const grandPrice = document.getElementById(\"grandPrice\");\n    const storedSubtotal = localStorage.getItem(\"discountedSubtotal\");\n    const storedTax = localStorage.getItem(\"discountedTax\");\n    const storedTotal = localStorage.getItem(\"discountedTotal\");\n    const storedDiscount = localStorage.getItem(\"promoDiscount\");\n    if (!subPrice || !taxPrice || !grandPrice)\n        return;\n    // Store original values if not already stored\n    if (!subPrice.dataset.original) {\n        subPrice.dataset.original =\n            subPrice.textContent?.replace(\"$\", \"\").trim() || \"\";\n    }\n    if (!taxPrice.dataset.original) {\n        taxPrice.dataset.original =\n            taxPrice.textContent?.replace(\"$\", \"\").trim() || \"\";\n    }\n    if (!grandPrice.dataset.original) {\n        grandPrice.dataset.original =\n            grandPrice.textContent?.replace(\"$\", \"\").trim() || \"\";\n    }\n    if (storedSubtotal && storedTax && storedTotal && storedDiscount) {\n        subPrice.textContent = parseFloat(storedSubtotal).toFixed(2);\n        taxPrice.textContent = parseFloat(storedTax).toFixed(2);\n        grandPrice.textContent = parseFloat(storedTotal).toFixed(2);\n        // Inject the promo discount row if not already present\n        const lineItemsTable = document.querySelector(\"#lineItems table\");\n        if (lineItemsTable && !document.getElementById(\"discountRow\")) {\n            const row = lineItemsTable.insertRow(3); // Adjust this index if needed\n            row.id = \"discountRow\";\n            const cell1 = row.insertCell(0);\n            cell1.textContent = \"Promo Discount:\";\n            const cell2 = row.insertCell(1);\n            cell2.innerHTML = `$<span id=\"promoDiscount\">-${parseFloat(storedDiscount).toFixed(2)}</span>`;\n            cell2.style.textAlign = \"right\";\n        }\n    }\n}\n","import { StorefrontPage } from \"../../enums/StorefrontPage.enum\";\nimport { GLOBALVARS } from \"../../index\";\nimport { applyPromoCode } from \"../../shared/ApplyPromoCode\";\nimport { persistDiscountedTotals } from \"../../shared/persistDiscountedTotals\";\nimport { monitorResidentialToastAndBlockPage } from \"../../shared/BlockOnResidentialToast\";\n// src/index.ts  (or your main bootstrap)\nimport { initChatWidget } from \"../../chat/chatWidget\";\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    initChatWidget({\n        apiBase: \"https://ai-chat-bot-1xm4.onrender.com/api/ai\",\n        debug: true, // leave on until we confirm\n    });\n    console.log(\"[VividChat] direct mount called\");\n});\nexport function main() {\n    function init() {\n        const isAddToCartPage = () => {\n            const page = GLOBALVARS?.currentPage?.trim().toLowerCase() || \"\";\n            return (page.includes(\"add to cart\") ||\n                window.location.pathname.includes(\"/cart/3-edit.php\"));\n        };\n        if (isAddToCartPage()) {\n            const img = document.getElementById(\"productImage\");\n            const artID = window.p?.artID;\n            if (!img || !artID)\n                return;\n            const origin = window.location.origin;\n            const uniqueNoCache = Date.now();\n            const desiredURL = `${origin}/catalog/gen/pdf_art_image.php?artID=${artID}&nocache=${uniqueNoCache}`;\n            // Only replace if it's the old thumbnail\n            if (img.src.startsWith(`${origin}/.cache`)) {\n                img.src = desiredURL;\n                img.width = 400;\n                img.style.height = \"auto\";\n            }\n            // Watch for AJAX overwrites for a short time\n            const interval = setInterval(() => {\n                if (img.src.startsWith(`${origin}/.cache`)) {\n                    img.src = desiredURL;\n                    img.width = 400;\n                    img.style.height = \"auto\";\n                }\n            }, 300);\n            // Stop checking after 10 seconds\n            setTimeout(() => {\n                clearInterval(interval);\n            }, 10000);\n        }\n    }\n    if (document.readyState === \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", init);\n    }\n    else {\n        init();\n    }\n    if (GLOBALVARS.currentPage === StorefrontPage.CHECKOUTSHIPPING) {\n        $(\"#continueTbl .smallbody\").eq(1)\n            .html(`<span class=\"red\">*</span> Delivery time listed includes 1 to 2 days to process order plus shipping.\n      Please note we do not process orders on weekends or holidays.`);\n        monitorResidentialToastAndBlockPage();\n    }\n    if (GLOBALVARS.currentPage === StorefrontPage.CHECKOUTCONFIRMATION) {\n        persistDiscountedTotals();\n    }\n    if (GLOBALVARS.currentPage === StorefrontPage.CHECKOUTPAYMENT ||\n        window.location.pathname.includes(\"/checkout/4-payment.php\")) {\n        applyPromoCode();\n    }\n}\nmain();\nfunction convertMenuTextToIcons() {\n    const iconMap = {\n        HOME: \"fa-home\",\n        CATALOG: \"fa-book-open\",\n        \"MY ACCOUNT\": \"fa-user\",\n        \"SHOPPING CART\": \"fa-shopping-cart\",\n    };\n    const tryConvert = () => {\n        const menuItems = document.querySelectorAll(\"#menu li\");\n        if (menuItems.length === 0) {\n            setTimeout(tryConvert, 200);\n            return;\n        }\n        menuItems.forEach((item) => {\n            const link = item.querySelector(\"a\");\n            if (link) {\n                const rawText = link.textContent?.trim().toUpperCase();\n                const matchedKey = Object.keys(iconMap).find((key) => rawText?.startsWith(key));\n                const iconClass = matchedKey ? iconMap[matchedKey] : \"\";\n                if (iconClass) {\n                    const countMatch = rawText?.match(/\\((\\d+)\\)/)?.[1];\n                    link.innerHTML = `\n    <span class=\"icon-wrap\">\n      <i class=\"fa ${iconClass}\"></i>\n      ${countMatch ? `<span class=\"badge\">${countMatch}</span>` : \"\"}\n    </span>\n  `;\n                    link.setAttribute(\"title\", rawText || \"\");\n                }\n            }\n        });\n    };\n    document.readyState === \"loading\"\n        ? document.addEventListener(\"DOMContentLoaded\", tryConvert)\n        : tryConvert();\n}\nconvertMenuTextToIcons();\n","export function applyPromoCode() {\n    window.addEventListener(\"load\", () => {\n        const custPOBox = document.getElementById(\"custPOBox\");\n        const promoInput = document.getElementById(\"customerPO\");\n        if (!custPOBox || !promoInput) {\n            console.warn(\"Missing #custPOBox or #customerPO\");\n            return;\n        }\n        const section = custPOBox.querySelector(\"section\");\n        if (!section) {\n            console.warn(\"Could not find <section> inside #custPOBox\");\n            return;\n        }\n        // Prevent duplicate buttons\n        if (!document.getElementById(\"applyPromoCodeBtn\") &&\n            !document.getElementById(\"clearPromoCodeBtn\")) {\n            const buttonWrapper = document.createElement(\"div\");\n            buttonWrapper.style.marginTop = \"8px\";\n            buttonWrapper.style.display = \"flex\";\n            buttonWrapper.style.justifyContent = \"center\";\n            buttonWrapper.style.gap = \"8px\";\n            const applyBtn = document.createElement(\"button\");\n            applyBtn.type = \"button\";\n            applyBtn.id = \"applyPromoCodeBtn\";\n            applyBtn.textContent = \"Apply Promo Code\";\n            const clearBtn = document.createElement(\"button\");\n            clearBtn.type = \"button\";\n            clearBtn.id = \"clearPromoCodeBtn\";\n            clearBtn.textContent = \"Clear\";\n            buttonWrapper.appendChild(applyBtn);\n            buttonWrapper.appendChild(clearBtn);\n            section.appendChild(buttonWrapper);\n            const discountMap = {\n                SAVE10: 0.1,\n                SAVE20: 0.2,\n                SAVE30: 0.3,\n            };\n            applyBtn.addEventListener(\"click\", () => {\n                var _a;\n                const code = promoInput.value.trim().toUpperCase();\n                const discountRate = discountMap[code];\n                if (!discountRate) {\n                    alert(\"Invalid promo code.\");\n                    return;\n                }\n                const subPrice = document.getElementById(\"subPrice\");\n                const taxPrice = document.getElementById(\"taxPrice\");\n                const grandPrice = document.getElementById(\"grandPrice\");\n                if (!subPrice || !taxPrice || !grandPrice)\n                    return;\n                const originalSubtotal = parseFloat(subPrice.dataset.original ||\n                    subPrice.textContent?.replace(\"$\", \"\") ||\n                    \"0\");\n                (_a = subPrice.dataset).original || (_a.original = originalSubtotal.toFixed(2));\n                const newSubtotal = +(originalSubtotal * (1 - discountRate)).toFixed(2);\n                const taxRate = 0.105;\n                const newTax = +(newSubtotal * taxRate).toFixed(2);\n                const newTotal = +(newSubtotal + newTax).toFixed(2);\n                const discountAmount = +(originalSubtotal - newSubtotal).toFixed(2);\n                subPrice.textContent = newSubtotal.toFixed(2);\n                taxPrice.textContent = newTax.toFixed(2);\n                grandPrice.textContent = newTotal.toFixed(2);\n                localStorage.setItem(\"discountedSubtotal\", newSubtotal.toFixed(2));\n                localStorage.setItem(\"discountedTax\", newTax.toFixed(2));\n                localStorage.setItem(\"discountedTotal\", newTotal.toFixed(2));\n                localStorage.setItem(\"promoDiscount\", discountAmount.toFixed(2));\n                localStorage.setItem(\"promoCode\", code);\n                const table = document.querySelector(\"#lineItems table\");\n                if (table && !document.getElementById(\"discountRow\")) {\n                    const row = table.insertRow(3);\n                    row.id = \"discountRow\";\n                    const cell1 = row.insertCell(0);\n                    cell1.textContent = \"Promo Discount:\";\n                    const cell2 = row.insertCell(1);\n                    cell2.innerHTML = `$<span id=\"promoDiscount\">-${discountAmount.toFixed(2)}</span>`;\n                    cell2.style.textAlign = \"right\";\n                }\n                else {\n                    const promoSpan = document.getElementById(\"promoDiscount\");\n                    if (promoSpan) {\n                        promoSpan.textContent = `-${discountAmount.toFixed(2)}`;\n                    }\n                }\n            });\n            clearBtn.addEventListener(\"click\", () => {\n                localStorage.removeItem(\"discountedSubtotal\");\n                localStorage.removeItem(\"discountedTax\");\n                localStorage.removeItem(\"discountedTotal\");\n                localStorage.removeItem(\"promoDiscount\");\n                localStorage.removeItem(\"promoCode\");\n                const row = document.getElementById(\"discountRow\");\n                if (row)\n                    row.remove();\n                const subPrice = document.getElementById(\"subPrice\");\n                const taxPrice = document.getElementById(\"taxPrice\");\n                const grandPrice = document.getElementById(\"grandPrice\");\n                if (subPrice && subPrice.dataset.original)\n                    subPrice.textContent = subPrice.dataset.original;\n                if (taxPrice && taxPrice.dataset.original)\n                    taxPrice.textContent = taxPrice.dataset.original;\n                if (grandPrice && grandPrice.dataset.original)\n                    grandPrice.textContent = grandPrice.dataset.original;\n                promoInput.value = \"\";\n            });\n        }\n    });\n}\n"],"names":["monitorResidentialToastAndBlockPage","document","getElementById","overlay","createElement","id","style","position","top","left","width","height","backgroundColor","zIndex","display","body","appendChild","pollInterval","setInterval","toast","querySelector","textContent","includes","closeBtn","remove","innerHTML","clearInterval","persistDiscountedTotals","subPrice","taxPrice","grandPrice","storedSubtotal","localStorage","getItem","storedTax","storedTotal","storedDiscount","dataset","original","replace","trim","parseFloat","toFixed","lineItemsTable","row","insertRow","insertCell","cell2","textAlign","main","init","currentPage","toLowerCase","window","location","pathname","img","artID","p","origin","uniqueNoCache","Date","now","desiredURL","src","startsWith","interval","setTimeout","readyState","addEventListener","CHECKOUTSHIPPING","$","eq","html","CHECKOUTCONFIRMATION","CHECKOUTPAYMENT","custPOBox","promoInput","console","warn","section","buttonWrapper","marginTop","justifyContent","gap","applyBtn","type","clearBtn","discountMap","SAVE10","SAVE20","SAVE30","_a","code","value","toUpperCase","discountRate","alert","originalSubtotal","newSubtotal","newTax","newTotal","discountAmount","setItem","table","promoSpan","removeItem","apiBase","debug","log","iconMap","HOME","CATALOG","tryConvert","menuItems","querySelectorAll","length","forEach","item","link","rawText","matchedKey","Object","keys","find","key","iconClass","countMatch","match","setAttribute","convertMenuTextToIcons"],"sourceRoot":""}